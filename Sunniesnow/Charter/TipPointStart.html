<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Sunniesnow::Charter::TipPointStart
  
    &mdash; sscharter
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Sunniesnow::Charter::TipPointStart";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Sunniesnow.html" title="Sunniesnow (module)">Sunniesnow</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Charter.html" title="Sunniesnow::Charter (class)">Charter</a></span></span>
     &raquo; 
    <span class="title">TipPointStart</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Sunniesnow::Charter::TipPointStart
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Sunniesnow::Charter::TipPointStart</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/sscharter.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#check-instance_method" title="#check (instance method)">#<strong>check</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_start_placeholder-instance_method" title="#get_start_placeholder (instance method)">#<strong>get_start_placeholder</strong>(start_event)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(x = 0, y = 0, relative_time = 0.0, relative: true, speed: nil, relative_beat: nil, beat_speed: nil)  &#x21d2; TipPointStart </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of TipPointStart.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(x = 0, y = 0, relative_time = 0.0, relative: true, speed: nil, relative_beat: nil, beat_speed: nil)  &#x21d2; <tt><span class='object_link'><a href="" title="Sunniesnow::Charter::TipPointStart (class)">TipPointStart</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of TipPointStart.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


224
225
226
227
228
229
230
231
232
233
234</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sscharter.rb', line 224</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_relative_time'>relative_time</span> <span class='op'>=</span> <span class='float'>0.0</span><span class='comma'>,</span> <span class='label'>relative:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>speed:</span> <span class='kw'>nil</span><span class='comma'>,</span>
		<span class='label'>relative_beat:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>beat_speed:</span> <span class='kw'>nil</span>
	<span class='ivar'>@x</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span>
	<span class='ivar'>@y</span> <span class='op'>=</span> <span class='id identifier rubyid_y'>y</span>
	<span class='ivar'>@relative_time</span> <span class='op'>=</span> <span class='id identifier rubyid_relative_time'>relative_time</span>
	<span class='ivar'>@relative</span> <span class='op'>=</span> <span class='id identifier rubyid_relative'>relative</span>
	<span class='ivar'>@speed</span> <span class='op'>=</span> <span class='id identifier rubyid_speed'>speed</span>
	<span class='ivar'>@relative_beat</span> <span class='op'>=</span> <span class='id identifier rubyid_relative_beat'>relative_beat</span>
	<span class='ivar'>@beat_speed</span> <span class='op'>=</span> <span class='id identifier rubyid_beat_speed'>beat_speed</span>
	<span class='id identifier rubyid_check'>check</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="check-instance_method">
  
    #<strong>check</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238
239
240
241
242
243
244
245
246
247
248</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sscharter.rb', line 236</span>

<span class='kw'>def</span> <span class='id identifier rubyid_check'>check</span>
	<span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@x</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Numeric</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@y</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Numeric</span><span class='rparen'>)</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>x and y must be numbers</span><span class='tstring_end'>&#39;</span></span>
	<span class='kw'>end</span>
	<span class='ivar'>@x</span> <span class='op'>=</span> <span class='ivar'>@x</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
	<span class='ivar'>@y</span> <span class='op'>=</span> <span class='ivar'>@y</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
	<span class='qsymbols_beg'>%i[</span><span class='tstring_content'>@relative_time</span><span class='words_sep'> </span><span class='tstring_content'>@speed</span><span class='words_sep'> </span><span class='tstring_content'>@relative_beat</span><span class='words_sep'> </span><span class='tstring_content'>@beat_speed</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
		<span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span> <span class='id identifier rubyid_key'>key</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cannot specify both </span><span class='embvar'>#</span><span class='ivar'>@time_key</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@time_key</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_value'>value</span><span class='op'>&amp;.</span><span class='op'>!=</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
		<span class='ivar'>@time_key</span> <span class='op'>=</span> <span class='id identifier rubyid_key'>key</span> <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='op'>&amp;.</span><span class='op'>!=</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
	<span class='kw'>end</span>
	<span class='ivar'>@time_key</span> <span class='op'>||=</span> <span class='symbol'>:@relative_time</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_start_placeholder-instance_method">
  
    #<strong>get_start_placeholder</strong>(start_event)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/sscharter.rb', line 250</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_start_placeholder'>get_start_placeholder</span> <span class='id identifier rubyid_start_event'>start_event</span>
	<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>start_event is not tip-pointable</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='period'>.</span><span class='id identifier rubyid_tip_pointable?'>tip_pointable?</span>
	<span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Event.html" title="Sunniesnow::Charter::Event (class)">Event</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Event.html#initialize-instance_method" title="Sunniesnow::Charter::Event#initialize (method)">new</a></span></span> <span class='symbol'>:placeholder</span><span class='comma'>,</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='period'>.</span><span class='id identifier rubyid_beat'>beat</span><span class='comma'>,</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='period'>.</span><span class='id identifier rubyid_bpm_changes'>bpm_changes</span>
	<span class='kw'>if</span> <span class='ivar'>@relative</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:x</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='lbracket'>[</span><span class='symbol'>:x</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='ivar'>@x</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:y</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='lbracket'>[</span><span class='symbol'>:y</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='ivar'>@y</span>
	<span class='kw'>else</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:x</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@x</span>
		<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:y</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@y</span>
	<span class='kw'>end</span>
	<span class='kw'>case</span> <span class='ivar'>@time_key</span>
	<span class='kw'>when</span> <span class='symbol'>:@relative_time</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>relative_time must be a number</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@relative_time</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Numeric</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>relative_time must be non-negative</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@relative_time</span> <span class='op'>&lt;</span> <span class='int'>0</span>
		<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='op'>-</span><span class='ivar'>@relative_time</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
	<span class='kw'>when</span> <span class='symbol'>:@speed</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>speed must be a number</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@speed</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Numeric</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>speed must be positive</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@speed</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
		<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_offset'>offset</span> <span class='op'>=</span> <span class='op'>-</span><span class='const'>Math</span><span class='period'>.</span><span class='id identifier rubyid_hypot'>hypot</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:x</span><span class='rbracket'>]</span> <span class='op'>-</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='lbracket'>[</span><span class='symbol'>:x</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:y</span><span class='rbracket'>]</span> <span class='op'>-</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='lbracket'>[</span><span class='symbol'>:y</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='ivar'>@speed</span>
	<span class='kw'>when</span> <span class='symbol'>:@relative_beat</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>relative_beat must be a number</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@relative_beat</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Numeric</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>relative_beat must be non-negative</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@relative_beat</span> <span class='op'>&lt;</span> <span class='int'>0</span>
		<span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Rational is recommended over Float for relative_beat</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@relative_beat</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Float</span>
		<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_beat'>beat</span> <span class='op'>-=</span> <span class='ivar'>@relative_beat</span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span>
	<span class='kw'>when</span> <span class='symbol'>:@beat_speed</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>beat_speed must be a number</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='ivar'>@beat_speed</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span> <span class='const'>Numeric</span>
		<span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>beat_speed must be positive</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@beat_speed</span> <span class='op'>&lt;=</span> <span class='int'>0</span>
		<span class='id identifier rubyid_delta_beat'>delta_beat</span> <span class='op'>=</span> <span class='const'>Math</span><span class='period'>.</span><span class='id identifier rubyid_hypot'>hypot</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:x</span><span class='rbracket'>]</span> <span class='op'>-</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='lbracket'>[</span><span class='symbol'>:x</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:y</span><span class='rbracket'>]</span> <span class='op'>-</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='lbracket'>[</span><span class='symbol'>:y</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='ivar'>@beat_speed</span>
		<span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_beat'>beat</span> <span class='op'>-=</span> <span class='id identifier rubyid_delta_beat'>delta_beat</span><span class='period'>.</span><span class='id identifier rubyid_to_r'>to_r</span> <span class='comment'># a little weird, but fine
</span>	<span class='kw'>end</span>
	<span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:tip_point</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_start_event'>start_event</span><span class='lbracket'>[</span><span class='symbol'>:tip_point</span><span class='rbracket'>]</span>
	<span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Nov  1 19:29:39 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.3.5).
</div>

    </div>
  </body>
</html>